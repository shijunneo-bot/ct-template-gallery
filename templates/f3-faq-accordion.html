<!DOCTYPE html>
<html lang="en">
<head>
  <script>
    const CONFIG = {
      includeDismissButton: true,

      brand: {
        name: "FWD Insurance",
        primary: "#FF6B00",
        primaryLight: "#FF8C3A",
        dark: "#0D0D0D",
        darkCard: "#1A1A1A",
        darkCardHover: "#222222",
        text: "#FFFFFF",
      },

      faq: {
        headline: "How can we help?",
        subheadline: "Tap any question to expand",
        showSearch: true,
        searchPlaceholder: "Search questions...",
        showCategories: true,
        allLabel: "All",
        contactLabel: "Still have questions?",
        contactCTA: "Chat with Us",
        contactUrl: "fwd://support/chat",
      },

      categories: ["Claims", "Policy", "Payment", "Coverage"],

      questions: [
        {
          id: "q1",
          category: "Claims",
          question: "How do I file a claim?",
          answer: "You can file a claim directly in the FWD app. Go to <strong>My Policies â†’ Select Policy â†’ File Claim</strong>. Upload your documents (medical report, receipts, police report if applicable) and submit. Most claims are processed within 5 working days.",
          emoji: "ðŸ“‹",
        },
        {
          id: "q2",
          category: "Claims",
          question: "What documents do I need for a hospital claim?",
          answer: "You'll need: <strong>original medical receipts</strong>, hospital discharge summary, doctor's referral letter (if applicable), and your IC/passport copy. Submit everything within 30 days of discharge for fastest processing.",
          emoji: "ðŸ¥",
        },
        {
          id: "q3",
          category: "Policy",
          question: "Can I change my coverage after purchase?",
          answer: "Yes! You can upgrade your coverage anytime through the app. Downgrades take effect at your next renewal date. Go to <strong>My Policies â†’ Manage â†’ Adjust Coverage</strong> to see your options.",
          emoji: "ðŸ”„",
        },
        {
          id: "q4",
          category: "Policy",
          question: "How do I add a family member to my plan?",
          answer: "Navigate to <strong>My Policies â†’ Add Dependant</strong>. You can add a spouse, children (up to age 23), and parents. Each additional member gets a <strong>10% multi-policy discount</strong>.",
          emoji: "ðŸ‘¨â€ðŸ‘©â€ðŸ‘§",
        },
        {
          id: "q5",
          category: "Payment",
          question: "What payment methods are accepted?",
          answer: "We accept <strong>credit/debit cards</strong> (Visa, Mastercard, AMEX), <strong>FPX online banking</strong>, <strong>e-wallets</strong> (GrabPay, Touch 'n Go, Boost), and <strong>auto-debit</strong> from your bank account. Monthly instalments available for annual premiums above RM1,200.",
          emoji: "ðŸ’³",
        },
        {
          id: "q6",
          category: "Payment",
          question: "My payment failed â€” what should I do?",
          answer: "Don't worry â€” your coverage continues for a 30-day grace period. Try updating your payment method in <strong>Settings â†’ Payment Methods</strong>. If the issue persists, our support team can help resolve it within 24 hours.",
          emoji: "âš ï¸",
        },
        {
          id: "q7",
          category: "Coverage",
          question: "Does my plan cover outpatient visits?",
          answer: "It depends on your plan tier. <strong>Premium and Ultimate plans</strong> include outpatient specialist visits with a per-visit limit. Basic plans cover hospitalisation only. Check your policy document or tap <strong>My Policies â†’ Benefits Summary</strong> for details.",
          emoji: "ðŸ©º",
        },
        {
          id: "q8",
          category: "Coverage",
          question: "Am I covered when travelling overseas?",
          answer: "Yes â€” all FWD medical plans include <strong>emergency overseas coverage</strong> for up to 90 consecutive days. This covers emergency hospitalisation, evacuation, and repatriation. Planned overseas treatment requires prior approval.",
          emoji: "âœˆï¸",
        },
      ],

      events: {
        faqViewed:       "FAQAccordion_Viewed",
        questionOpened:  "FAQAccordion_Question_Opened",
        questionClosed:  "FAQAccordion_Question_Closed",
        categoryFiltered:"FAQAccordion_Category_Filtered",
        searchUsed:      "FAQAccordion_Search_Used",
        contactClicked:  "FAQAccordion_Contact_Clicked",
        faqDismissed:    "FAQAccordion_Dismissed",
      },
    };
  </script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700;800&display=swap">
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    :root{
      --primary:#FF6B00;--primary-light:#FF8C3A;
      --dark:#0D0D0D;--dark-card:#1A1A1A;--dark-hover:#222;
      --text:#FFF;--text-muted:rgba(255,255,255,.45);
      --glass-border:rgba(255,255,255,.06);
    }
    body{
      background:var(--dark);min-height:100vh;
      display:flex;flex-direction:column;
      font-family:'DM Sans',sans-serif;color:var(--text);
      padding:44px 0 32px;
      overflow-y:auto;overflow-x:hidden;
      -webkit-overflow-scrolling:touch;
    }
    body::-webkit-scrollbar{display:none}
    .dismiss{position:fixed;top:12px;right:12px;width:36px;height:36px;border-radius:50%;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1);color:rgba(255,255,255,.4);font-size:18px;cursor:pointer;z-index:100;display:flex;align-items:center;justify-content:center}.dismiss:active{transform:scale(.9)}

    @keyframes fadeIn{to{opacity:1}}
    @keyframes fadeInUp{to{opacity:1;transform:translateY(0)}}

    .header{text-align:center;padding:0 24px;margin-bottom:16px}
    .h-emoji{font-size:36px;margin-bottom:8px;opacity:0;animation:fadeIn .4s .1s ease forwards}
    .h-headline{font-size:24px;font-weight:800;margin-bottom:4px;opacity:0;animation:fadeIn .5s .2s ease forwards}
    .h-sub{font-size:13px;color:var(--text-muted);opacity:0;animation:fadeIn .5s .3s ease forwards}

    /* Search */
    .search-wrap{
      padding:0 20px;margin-bottom:12px;
      opacity:0;animation:fadeIn .5s .35s ease forwards;
    }
    .search-input{
      width:100%;padding:12px 16px 12px 40px;
      border-radius:14px;border:1px solid var(--glass-border);
      background:var(--dark-card);color:var(--text);
      font-family:'DM Sans',sans-serif;font-size:14px;
      outline:none;transition:border-color .2s;
    }
    .search-input::placeholder{color:var(--text-muted)}
    .search-input:focus{border-color:var(--primary)}
    .search-wrap{position:relative}
    .search-icon{
      position:absolute;left:32px;top:50%;transform:translateY(-50%);
      font-size:16px;opacity:.35;pointer-events:none;
    }

    /* Category pills */
    .cats{
      display:flex;gap:6px;padding:0 20px;margin-bottom:16px;
      overflow-x:auto;scrollbar-width:none;
      -webkit-overflow-scrolling:touch;
      opacity:0;animation:fadeIn .5s .4s ease forwards;
    }
    .cats::-webkit-scrollbar{display:none}
    .cat-pill{
      flex-shrink:0;padding:8px 16px;border-radius:50px;
      font-size:12px;font-weight:700;cursor:pointer;
      background:rgba(255,255,255,.05);color:var(--text-muted);
      border:1px solid transparent;
      transition:all .25s ease;
      -webkit-tap-highlight-color:transparent;
    }
    .cat-pill.active{
      background:rgba(255,107,0,.12);color:var(--primary);
      border-color:rgba(255,107,0,.25);
    }

    /* Accordion list */
    .faq-list{padding:0 20px;display:flex;flex-direction:column;gap:8px}

    .faq-item{
      background:var(--dark-card);
      border:1px solid var(--glass-border);
      border-radius:16px;overflow:hidden;
      transition:border-color .25s,background .25s;
    }
    .faq-item.open{border-color:rgba(255,107,0,.2);background:var(--dark-hover)}
    .faq-item.hidden{display:none}

    /* Question row */
    .faq-q{
      display:flex;align-items:center;gap:12px;
      padding:16px;cursor:pointer;
      -webkit-tap-highlight-color:transparent;
    }
    .faq-q:active{opacity:.8}
    .faq-emoji{font-size:20px;flex-shrink:0}
    .faq-q-text{flex:1;font-size:14px;font-weight:700;line-height:1.3}
    .faq-chevron{
      font-size:12px;color:var(--text-muted);
      transition:transform .3s cubic-bezier(.34,1.56,.64,1);
      flex-shrink:0;width:20px;text-align:center;
    }
    .faq-item.open .faq-chevron{transform:rotate(180deg);color:var(--primary)}

    /* Answer panel */
    .faq-a{
      max-height:0;overflow:hidden;
      transition:max-height .35s cubic-bezier(.4,0,.2,1),padding .35s ease;
    }
    .faq-item.open .faq-a{max-height:300px;padding:0 16px 16px 48px}
    .faq-a-inner{
      font-size:13px;line-height:1.7;color:rgba(255,255,255,.6);
    }
    .faq-a-inner strong{color:var(--primary-light);font-weight:700}

    /* Contact footer */
    .contact-footer{
      text-align:center;padding:20px 24px 0;
      opacity:0;animation:fadeIn .5s .6s ease forwards;
    }
    .contact-label{font-size:13px;color:var(--text-muted);margin-bottom:10px}
    .contact-cta{
      display:inline-flex;align-items:center;gap:6px;
      padding:12px 28px;border-radius:50px;border:none;
      font-family:'DM Sans',sans-serif;font-size:14px;font-weight:800;
      cursor:pointer;color:#fff;background:var(--primary);
      transition:transform .2s;
    }
    .contact-cta:active{transform:scale(.96)}

    /* Empty state */
    .empty-state{
      text-align:center;padding:24px;color:var(--text-muted);
      font-size:14px;display:none;
    }
    .empty-state.show{display:block}
    .empty-emoji{font-size:32px;margin-bottom:8px}
  </style>
</head>
<body>
  <div class="header">
    <div class="h-emoji">ðŸ’¬</div>
    <h2 class="h-headline" id="headline"></h2>
    <p class="h-sub" id="sub"></p>
  </div>

  <div class="search-wrap" id="searchWrap">
    <span class="search-icon">ðŸ”</span>
    <input class="search-input" id="searchInput" type="text" autocomplete="off">
  </div>

  <div class="cats" id="cats"></div>
  <div class="faq-list" id="faqList"></div>
  <div class="empty-state" id="empty"><div class="empty-emoji">ðŸ¤·</div>No matching questions found</div>

  <div class="contact-footer" id="contactFooter">
    <div class="contact-label" id="contactLabel"></div>
    <button class="contact-cta" id="contactCta"></button>
  </div>

  <script>
    function fireEvent(n,p){try{if(window.CleverTap)window.CleverTap.pushEvent(n,p||{});else if(window.webkit?.messageHandlers?.clevertap)window.webkit.messageHandlers.clevertap.postMessage(JSON.stringify({event:n,properties:p||{}}));else if(window.clevertap)window.clevertap.event.push(n,p||{})}catch(e){console.log("CT:",n,p)}}
    function dismiss(){fireEvent(CONFIG.events.faqDismissed,{questions_opened:openedSet.size});try{location.href="wzrk://exit"}catch(e){}}

    let activeCategory="All";
    let searchQuery="";
    const openedSet=new Set();
    let searchTimer=null;

    (function init(){
      if(CONFIG.includeDismissButton){const b=document.createElement("button");b.className="dismiss";b.innerHTML="âœ•";b.onclick=dismiss;document.body.appendChild(b)}

      document.getElementById("headline").textContent=CONFIG.faq.headline;
      document.getElementById("sub").textContent=CONFIG.faq.subheadline;

      // Search
      if(CONFIG.faq.showSearch){
        const inp=document.getElementById("searchInput");
        inp.placeholder=CONFIG.faq.searchPlaceholder;
        inp.addEventListener("input",()=>{
          searchQuery=inp.value.toLowerCase().trim();
          clearTimeout(searchTimer);
          searchTimer=setTimeout(()=>{
            if(searchQuery.length>1)fireEvent(CONFIG.events.searchUsed,{query:searchQuery});
          },800);
          filterQuestions();
        });
      }else{
        document.getElementById("searchWrap").style.display="none";
      }

      // Categories
      const catsEl=document.getElementById("cats");
      if(CONFIG.faq.showCategories){
        const allPill=makePill(CONFIG.faq.allLabel,"All",true);
        catsEl.appendChild(allPill);
        CONFIG.categories.forEach(cat=>{
          catsEl.appendChild(makePill(cat,cat,false));
        });
      }else{
        catsEl.style.display="none";
      }

      // Questions
      const list=document.getElementById("faqList");
      CONFIG.questions.forEach((q,i)=>{
        const item=document.createElement("div");
        item.className="faq-item";
        item.dataset.id=q.id;
        item.dataset.category=q.category;
        item.dataset.search=(q.question+" "+q.answer).toLowerCase().replace(/<[^>]*>/g,"");
        item.style.opacity="0";
        item.style.transform="translateY(8px)";
        item.style.animation=`fadeInUp .4s ${.45+i*.06}s ease forwards`;

        item.innerHTML=`
          <div class="faq-q">
            <span class="faq-emoji">${q.emoji}</span>
            <span class="faq-q-text">${q.question}</span>
            <span class="faq-chevron">â–¼</span>
          </div>
          <div class="faq-a"><div class="faq-a-inner">${q.answer}</div></div>
        `;

        item.querySelector(".faq-q").addEventListener("click",()=>toggleItem(item,q));
        list.appendChild(item);
      });

      // Contact
      document.getElementById("contactLabel").textContent=CONFIG.faq.contactLabel;
      const cta=document.getElementById("contactCta");
      cta.textContent=CONFIG.faq.contactCTA;
      cta.onclick=()=>{
        fireEvent(CONFIG.events.contactClicked);
        if(CONFIG.faq.contactUrl)location.href=CONFIG.faq.contactUrl;
      };

      fireEvent(CONFIG.events.faqViewed,{question_count:CONFIG.questions.length,category_count:CONFIG.categories.length});
    })();

    function makePill(label,value,active){
      const el=document.createElement("div");
      el.className="cat-pill"+(active?" active":"");
      el.textContent=label;
      el.dataset.cat=value;
      el.addEventListener("click",()=>{
        activeCategory=value;
        document.querySelectorAll(".cat-pill").forEach(p=>p.classList.toggle("active",p.dataset.cat===value));
        filterQuestions();
        fireEvent(CONFIG.events.categoryFiltered,{category:value});
      });
      return el;
    }

    function toggleItem(item,q){
      const wasOpen=item.classList.contains("open");

      // Close all others (single-open accordion)
      document.querySelectorAll(".faq-item.open").forEach(el=>{
        if(el!==item)el.classList.remove("open");
      });

      item.classList.toggle("open");

      if(!wasOpen){
        openedSet.add(q.id);
        fireEvent(CONFIG.events.questionOpened,{question_id:q.id,question:q.question,category:q.category});
      }else{
        fireEvent(CONFIG.events.questionClosed,{question_id:q.id});
      }
    }

    function filterQuestions(){
      let visibleCount=0;
      document.querySelectorAll(".faq-item").forEach(item=>{
        const catMatch=activeCategory==="All"||item.dataset.category===activeCategory;
        const searchMatch=!searchQuery||item.dataset.search.includes(searchQuery);
        const show=catMatch&&searchMatch;
        item.classList.toggle("hidden",!show);
        if(show)visibleCount++;
      });
      document.getElementById("empty").classList.toggle("show",visibleCount===0);
    }
  </script>
</body>
</html>
