<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Scramble Code Reveal — Template Mockup</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700;800&family=Inter:wght@400;600;700&display=swap');

  :root {
    --accent: #00F5A0;
    --accent-dim: #00C97D;
    --bg: #0A0A1A;
    --card-bg: #12122A;
    --text: #FFFFFF;
    --text-muted: #8B8BA7;
  }

  * { margin:0; padding:0; box-sizing:border-box; }

  body {
    font-family: 'Inter', sans-serif;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 24px;
    overflow: hidden;
  }

  /* Ambient glow */
  body::before {
    content: '';
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 400px;
    height: 400px;
    background: radial-gradient(circle, rgba(0,245,160,0.08) 0%, transparent 70%);
    pointer-events: none;
    z-index: 0;
  }

  .container {
    width: 100%;
    max-width: 420px;
    text-align: center;
    position: relative;
    z-index: 1;
  }

  .icon-lock {
    width: 56px;
    height: 56px;
    margin: 0 auto 24px;
    background: rgba(0,245,160,0.1);
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.6s ease;
  }

  .icon-lock.unlocked {
    background: rgba(0,245,160,0.2);
    transform: scale(1.05);
  }

  .icon-lock svg {
    width: 28px;
    height: 28px;
    color: var(--accent);
    transition: all 0.4s ease;
  }

  h1 {
    font-size: 24px;
    font-weight: 700;
    margin-bottom: 8px;
    letter-spacing: -0.02em;
  }

  .subtitle {
    font-size: 15px;
    color: var(--text-muted);
    margin-bottom: 40px;
    line-height: 1.5;
  }

  /* ═══ CODE DISPLAY ═══ */
  .code-container {
    background: var(--card-bg);
    border: 1px solid rgba(255,255,255,0.06);
    border-radius: 20px;
    padding: 40px 24px;
    margin-bottom: 32px;
    position: relative;
    overflow: hidden;
  }

  .code-container::before {
    content: '';
    position: absolute;
    top: -1px;
    left: -1px;
    right: -1px;
    bottom: -1px;
    border-radius: 20px;
    padding: 1px;
    background: linear-gradient(135deg, rgba(0,245,160,0.3), transparent 50%, rgba(0,245,160,0.1));
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.6s ease;
  }

  .code-container.revealed::before {
    opacity: 1;
  }

  .code-label {
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 2px;
    color: var(--text-muted);
    margin-bottom: 16px;
  }

  .code-display {
    font-family: 'JetBrains Mono', monospace;
    font-size: clamp(28px, 8vw, 42px);
    font-weight: 800;
    letter-spacing: 6px;
    color: var(--text);
    min-height: 52px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 2px;
    margin-bottom: 20px;
  }

  .code-char {
    display: inline-block;
    transition: color 0.3s ease, text-shadow 0.3s ease;
  }

  .code-char.resolved {
    color: var(--accent);
    text-shadow: 0 0 20px rgba(0,245,160,0.5);
  }

  .code-value {
    font-size: 14px;
    color: var(--accent-dim);
    font-weight: 600;
    opacity: 0;
    transform: translateY(8px);
    transition: all 0.6s cubic-bezier(0.16,1,0.3,1);
  }

  .code-value.show {
    opacity: 1;
    transform: translateY(0);
  }

  /* ═══ ACTIONS ═══ */
  .actions {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .btn-primary {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    width: 100%;
    padding: 16px 24px;
    background: var(--accent);
    color: var(--bg);
    border: none;
    border-radius: 14px;
    font-size: 16px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
    text-decoration: none;
  }

  .btn-primary:hover {
    transform: translateY(-1px);
    box-shadow: 0 8px 32px rgba(0,245,160,0.3);
  }

  .btn-copy {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    width: 100%;
    padding: 14px 24px;
    background: transparent;
    color: var(--text-muted);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 14px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    font-family: inherit;
  }

  .btn-copy:hover {
    border-color: var(--accent);
    color: var(--accent);
  }

  .btn-copy.copied {
    border-color: var(--accent);
    color: var(--accent);
    background: rgba(0,245,160,0.05);
  }

  .btn-copy svg { width: 16px; height: 16px; }

  /* ═══ TAP TO REVEAL STATE ═══ */
  .tap-prompt {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    gap: 12px;
    background: var(--card-bg);
    border-radius: 20px;
    cursor: pointer;
    z-index: 2;
    transition: opacity 0.4s ease;
  }

  .tap-prompt.hidden { opacity: 0; pointer-events: none; }

  .tap-circle {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    border: 2px solid var(--accent);
    display: flex;
    align-items: center;
    justify-content: center;
    animation: tapPulse 2s ease-in-out infinite;
  }

  @keyframes tapPulse {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.08); opacity: 0.8; }
  }

  .tap-circle svg { width: 24px; height: 24px; color: var(--accent); }

  .tap-text {
    font-size: 14px;
    font-weight: 600;
    color: var(--text-muted);
  }

  /* ═══ CONFETTI ═══ */
  .particle {
    position: fixed;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    pointer-events: none;
    z-index: 100;
  }

  @keyframes particleFall {
    0% { opacity: 1; transform: translateY(0) rotate(0deg); }
    100% { opacity: 0; transform: translateY(120px) rotate(360deg); }
  }
</style>
</head>
<body>

<div class="container">
  <div class="icon-lock" id="lockIcon">
    <svg id="lockSvg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
      <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
    </svg>
  </div>

  <h1>Your Exclusive Code</h1>
  <p class="subtitle">We've unlocked something special just for you</p>

  <div class="code-container" id="codeContainer">
    <div class="tap-prompt" id="tapPrompt">
      <div class="tap-circle">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5"/>
        </svg>
      </div>
      <span class="tap-text">Tap to reveal your code</span>
    </div>

    <div class="code-label">Promo Code</div>
    <div class="code-display" id="codeDisplay"></div>
    <div class="code-value" id="codeValue">Save 30% on your next purchase</div>
  </div>

  <div class="actions">
    <a href="#" class="btn-primary" id="useBtn">
      Use Code Now
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
    </a>
    <button class="btn-copy" id="copyBtn">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
      <span>Copy Code</span>
    </button>
  </div>
</div>

<script>
  // ═══ CONFIG ═══
  const CONFIG = {
    promoCode: 'SAVE30',
    scrambleDuration: 2400,
    scrambleChars: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%',
    autoStart: false // true = start on load, false = tap to reveal
  };

  const codeDisplay = document.getElementById('codeDisplay');
  const codeValue = document.getElementById('codeValue');
  const tapPrompt = document.getElementById('tapPrompt');
  const lockIcon = document.getElementById('lockIcon');
  const copyBtn = document.getElementById('copyBtn');

  let revealed = false;

  function scrambleReveal() {
    if (revealed) return;
    revealed = true;
    
    tapPrompt.classList.add('hidden');
    
    const code = CONFIG.promoCode;
    const duration = CONFIG.scrambleDuration;
    const chars = CONFIG.scrambleChars;
    const startTime = performance.now();

    // Create character spans
    codeDisplay.innerHTML = '';
    for (let i = 0; i < code.length; i++) {
      const span = document.createElement('span');
      span.className = 'code-char';
      span.textContent = chars[Math.floor(Math.random() * chars.length)];
      codeDisplay.appendChild(span);
    }

    const charSpans = codeDisplay.querySelectorAll('.code-char');

    function animate(now) {
      const elapsed = now - startTime;
      const progress = Math.min(elapsed / duration, 1);

      charSpans.forEach((span, i) => {
        const charProgress = (progress - (i * 0.1)) / (1 - (code.length * 0.1));
        
        if (charProgress >= 1) {
          span.textContent = code[i];
          span.classList.add('resolved');
        } else {
          span.textContent = chars[Math.floor(Math.random() * chars.length)];
        }
      });

      if (progress < 1) {
        requestAnimationFrame(animate);
      } else {
        // All resolved
        lockIcon.classList.add('unlocked');
        document.getElementById('lockSvg').innerHTML = 
          '<rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 9.9-1"/>';
        document.getElementById('codeContainer').classList.add('revealed');
        
        setTimeout(() => {
          codeValue.classList.add('show');
          spawnConfetti();
        }, 200);
      }
    }

    requestAnimationFrame(animate);
  }

  function spawnConfetti() {
    const colors = ['#00F5A0', '#A29BFE', '#FD79A8', '#FDCB6E', '#74B9FF'];
    for (let i = 0; i < 24; i++) {
      setTimeout(() => {
        const p = document.createElement('div');
        p.className = 'particle';
        p.style.background = colors[Math.floor(Math.random() * colors.length)];
        p.style.left = (30 + Math.random() * 40) + 'vw';
        p.style.top = (30 + Math.random() * 20) + 'vh';
        p.style.width = (4 + Math.random() * 6) + 'px';
        p.style.height = p.style.width;
        p.style.animation = `particleFall ${0.8 + Math.random() * 0.6}s ease-out forwards`;
        document.body.appendChild(p);
        setTimeout(() => p.remove(), 1500);
      }, i * 40);
    }
  }

  // Event listeners
  tapPrompt.addEventListener('click', scrambleReveal);

  copyBtn.addEventListener('click', () => {
    if (!revealed) return;
    navigator.clipboard.writeText(CONFIG.promoCode).then(() => {
      copyBtn.classList.add('copied');
      copyBtn.querySelector('span').textContent = 'Copied!';
      setTimeout(() => {
        copyBtn.classList.remove('copied');
        copyBtn.querySelector('span').textContent = 'Copy Code';
      }, 2000);
    });
  });

  if (CONFIG.autoStart) {
    tapPrompt.classList.add('hidden');
    setTimeout(scrambleReveal, 600);
  }
</script>

</body>
</html>
